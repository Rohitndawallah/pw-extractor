{
  "success": true,
  "data": {
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NTI4NDU1NzcuMTI2LCJkYXRhIjp7Il9pZCI6IjYzZmY2NjgwYTc5NDdmMDAxODYyYWFmMSIsInVzZXJuYW1lIjoiOTk2OTgwMjc2NCIsImZpcnN0TmFtZSI6IlZpcmFqIiwibGFzdE5hbWUiOiJTaGlyb2RrYXIiLCJvcmdhbml6YXRpb24iOnsiX2lkIjoiNWViMzkzZWU5NWZhYjc0NjhhNzlkMTg5Iiwid2Vic2l0ZSI6InBoeXNpY3N3YWxsYWguY29tIiwibmFtZSI6IlBoeXNpY3N3YWxsYWgifSwiZW1haWwiOiJ2aXJhanNoaXJvZGthcjQ1QGdtYWlsLmNvbSIsInJvbGVzIjpbIjViMjdiZDk2NTg0MmY5NTBhNzc4YzZlZiJdLCJ0eXBlIjoiVVNFUiJ9LCJpYXQiOjE3NTIyNDA3Nzd9.XpBqpINoVNTf9hv4jAfJnPTgX6_pbWD_LYrJzuvhSAc",
    "expires_in": 1752845577126
  }
}




im working on a project where i have figured out some api that pw.live website uses under the hood and using those apis im making a program which can be used via dashboard and terminal both i have not yet built nothing to be able to use it on dashboard or in terminal but i have tested all the api end points and so for that i made some python files and everything works fine i know what we have to do clearly
so basically ill explain you the idea 
the idea is that 
https://www.pw.live/
to login in this website requires phone no. with country code which we are going to take as an input from the user
so we can hit this api end point
https://api.penpencil.co/v1/users/get-otp?smsType=0
which sends an sms to the phone no. 
this are the some responses
{
  "success": false,
  "error": {
    "message": "User does not exist",
    "status": 400
  },
  "errorFrom": "User Microservice"
}
this is if phone no. is wrong so we just have to monitor the success the the error message and status
if sucess if false then we rpint the error message and status
{
  "success": true,
  "dataFrom": "User Microservice"
}
this is what we get for correct phone no. so success = true we show some message like otp sent or something like that

we have to use this body in order to receive the otp
{
  "username": "9022802013",
  "countryCode": "+91",
  "organizationId": "5eb393ee95fab7468a79d189"
}
phone no. and country code is taken from input and organization id is same for everyone so this orgid is going to be common
after user receives the otp we are going to have to generate a token which is going to be used throughout the next api calls 
so for generating that token we are going to call this api end point 
https://api.penpencil.co/v3/oauth/token
using this body
{
  "username": "9022802013",
  "otp": "900181",
  "client_id": "system-admin",
  "client_secret": "KjPXuAVfC5xbmgreETNMaL7z",
  "grant_type": "password",
  "latitude": 0,
  "longitude": 0,
  "organizationId": "5eb393ee95fab7468a79d189"
}
where everything is same username is same as the phone no. entered by the user, otp will be taken input from the user
rest all are same values we just have to use them as it is its response is going to be if otp is incorrect
{
  "success": false,
  "message": "Username or OTP is incorrect.",
  "error": {
    "message": "Username or OTP is incorrect.",
    "status": 412
  },
  "code": 412
}

success is going to be false and we are going to have to print error message and status
if otp is correct 
we are going to get something like this 
{
  "success": true,
  "data": {
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NTI4NDU1NzcuMTI2LCJkYXRhIjp7Il9pZCI6IjYzZmY2NjgwYTc5NDdmMDAxODYyYWFmMSIsInVzZXJuYW1lIjoiOTk2OTgwMjc2NCIsImZpcnN0TmFtZSI6IlZpcmFqIiwibGFzdE5hbWUiOiJTaGlyb2RrYXIiLCJvcmdhbml6YXRpb24iOnsiX2lkIjoiNWViMzkzZWU5NWZhYjc0NjhhNzlkMTg5Iiwid2Vic2l0ZSI6InBoeXNpY3N3YWxsYWguY29tIiwibmFtZSI6IlBoeXNpY3N3YWxsYWgifSwiZW1haWwiOiJ2aXJhanNoaXJvZGthcjQ1QGdtYWlsLmNvbSIsInJvbGVzIjpbIjViMjdiZDk2NTg0MmY5NTBhNzc4YzZlZiJdLCJ0eXBlIjoiVVNFUiJ9LCJpYXQiOjE3NTIyNDA3Nzd9.XpBqpINoVNTf9hv4jAfJnPTgX6_pbWD_LYrJzuvhSAc",
    "expires_in": 1752845577126
  }
}
well there are many more variables and values alongside data inside data and everywhere but we have to take care of these two specific values from its response
one is the access token which we are going to use and the token which we have to use with prefix Bearer <token> and we also get the expires in value of the token which will tell us when will the token logout which means that we will have to regerate the token via new otp again
so do this in one file there is also an verify token end point but we are not going to do that in here we will do that everytime we have to pass any end point where we use token right now we are just generating token and these end pints does not require token so...
i recommend using .env file to store the token and .json file to store phone no. headers expiry etc info which is giong to be needed later , .env for token for security
make sure u make this py file reusable i dont want modules or anything just functions but we are going to implement the tui or dashboard in other file so this file shouldnt alone print or do anythign ti should just return the saving of file will be done by the tui like .env .json etc also make me a simple no emoji tui make sure u use stadard no emji simple prfessional everything to make it look minimal simple and fast 